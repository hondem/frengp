<?phpnamespace App\AdminModule\Forms;use Nette;class AddContentFormFactory extends Nette\Object{    public $sections;    private $factory;    public $sectionId;    public function __construct(\App\Model\Sections $sections, \App\Forms\FormFactory $formFactory){        $this->sections = $sections;        $this->factory = $formFactory;    }    public function create($sectionId){        $this->sectionId = $sectionId;        $form = $this->factory->create();        $form->addText('title', 'Titulek: ')            ->setRequired();        $form->addTextArea('content', 'Obsah: ');        $form->addUpload('image', 'Obrázek: ')			            ->addRule(Nette\Forms\Form::MAX_FILE_SIZE, 'Maximální velikost obrázku je 1024kB', 1024 * 1024)            ->addCondition(Nette\Forms\Form::FILLED)            ->addRule(Nette\Forms\Form::IMAGE, 'Soubor musí být obrázek');                $form->addMultiUpload('pictures', 'Ostatní obrázky: ')            ->addRule(Nette\Forms\Form::MAX_FILE_SIZE, 'Maximální velikost obrázku je 1024kB', 1024 * 1024)            ->addCondition(Nette\Forms\Form::FILLED)            ->addRule(Nette\Forms\Form::IMAGE, 'Soubor musí být obrázek');                $form->addSubmit('send', 'Odeslat');        $form->onSuccess[] = array($this, 'formSucceeded');        return $form;    }    public function formSucceeded($form, $values){        $this->sections->addContent($values, $this->sectionId, $form->getPresenter()->getUser()->getId(), $form->getPresenter()->context->parameters['wwwDir']);        $form->getPresenter()->flashMessage('Obsah úspěšně přidán', 'succeed');        $form->getPresenter()->redirect('Sections:show', array('sectionId' => $this->sectionId));    }}