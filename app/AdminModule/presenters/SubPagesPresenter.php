<?phpnamespace App\AdminModule\Presenters;use App\AdminModule\Forms\AddSubPageFormFactory;use App\AdminModule\Forms\EditSubPageFormFactory;class SubPagesPresenter extends BasePresenter{    /** @var AddSubPageFormFactory @inject */    public $addSubPageFormFactory;    /** @var EditSubPageFormFactory @inject */    public $editSubPageFormFactory;    public function renderDefault($page = 1){        $paginator = new \Nette\Utils\Paginator();        $paginator->setItemCount(count($this->subPages->getPages()));        $paginator->setItemsPerPage(15);        $paginator->setPage($page);                $this->template->paginator = $paginator;                if(!isset($this->template->pages)){            $this->template->pages = $this->subPages->getPagesForPaginator($paginator->getLength(), $paginator->getOffset());        }                $this->template->editedPages = $this->subPages->getPageEditations();    }        public function renderEditSubPage($subPageId){        if($this->subPages->pageEditationExists($subPageId)){            $this->flashMessage('Upravujete úpravu podstránky, která čeká na zveřejnění.', 'warning');        }    }    public function renderEditedSubPage($subPageId){        $this->template->page = $this->subPages->getEditedPage($subPageId);    }        public function handleSearch($searchText){        if($this->isAjax()){            if(strlen($searchText) > 0){                $this->template->pages = $this->subPages->getSearchResults($searchText);            }        }        $this->redrawControl('results_snippet');    }    public function actionApproveChanges($subPageId){        $this->subPages->approveChanges($subPageId);        $this->subPages->deleteEditation($subPageId);        $this->flashMessage('Úpravy úspěšně schváleny.');        $this->redirect('SubPages:default');    }    public function createComponentAddSubPageForm(){        return $this->addSubPageFormFactory->create();    }    public function createComponentEditSubPageForm(){        return $this->editSubPageFormFactory->create($this->getParameter('subPageId'));    }}